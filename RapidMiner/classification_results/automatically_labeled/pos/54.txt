Andy Carroll scored twice to ease West Ham's fears of dropping into the Championship with a win over West Brom.