Fulham ended a run of seven matches without victory by claiming a hard-fought win over struggling Newcastle. 